<!DOCTYPE html>
<html lang="en">
<head>
  <!-- copy your head from index.html, including Tailwind + AOS if you like -->
  <title>ARC Tutoring – Log In / Sign Up</title>
</head>
<body class="bg-gray-50 font-sans">

  <main class="min-h-screen flex items-center justify-center px-6">
    <div class="w-full max-w-md space-y-8">
      <h2 class="text-center text-3xl font-extrabold text-gray-900">
        Log In or Sign Up
      </h2>

      <!-- Sign‑Up Form -->
      <form id="signup-form" class="space-y-4 bg-white p-6 rounded-lg shadow">
        <h3 class="text-xl font-semibold">Create an Account</h3>
        <input type="email" name="email" placeholder="Email" required
               class="w-full px-4 py-2 border rounded" />
        <input type="password" name="password" placeholder="Password" required
               class="w-full px-4 py-2 border rounded" />
        <button type="submit"
                class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">
          Sign Up
        </button>
      </form>

      <!-- Log‑In Form -->
      <form id="login-form" class="space-y-4 bg-white p-6 rounded-lg shadow">
        <h3 class="text-xl font-semibold">Already have an account?</h3>
        <input type="email" name="email" placeholder="Email" required
               class="w-full px-4 py-2 border rounded" />
        <input type="password" name="password" placeholder="Password" required
               class="w-full px-4 py-2 border rounded" />
        <button type="submit"
                class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">
          Log In
        </button>
      </form>

      <button id="logout-btn" class="hidden w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition">
        Log Out
      </button>
      <div id="user-info" class="text-center text-gray-500"></div>
    </div>
  </main>

  <!-- Firebase SDKs (replace with your version/config) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.1/firebase-app.js";
    import {
      getAuth, onAuthStateChanged,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword, signOut
    } from "https://www.gstatic.com/firebasejs/10.6.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // UI Elements
    const signupForm = document.getElementById('signup-form');
    const loginForm = document.getElementById('login-form');
    const logoutBtn = document.getElementById('logout-btn');
    const userInfo = document.getElementById('user-info');

    // Auth state listener
    onAuthStateChanged(auth, user => {
      if (user) {
        userInfo.textContent = `Signed in as ${user.email}`;
        logoutBtn.classList.remove('hidden');
        signupForm.classList.add('hidden');
        loginForm.classList.add('hidden');
      } else {
        userInfo.textContent = '';
        logoutBtn.classList.add('hidden');
        signupForm.classList.remove('hidden');
        loginForm.classList.remove('hidden');
      }
    });

    // Handlers
    signupForm.addEventListener('submit', async e => {
      e.preventDefault();
      const email = signupForm.email.value;
      const pw = signupForm.password.value;
      await createUserWithEmailAndPassword(auth, email, pw);
      signupForm.reset();
    });

    loginForm.addEventListener('submit', async e => {
      e.preventDefault();
      const email = loginForm.email.value;
      const pw = loginForm.password.value;
      await signInWithEmailAndPassword(auth, email, pw);
      loginForm.reset();
    });

    logoutBtn.addEventListener('click', () => signOut(auth));
  </script>
</body>
</html>
